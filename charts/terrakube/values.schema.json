{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "properties": {
        "api": {
            "type": "object",
            "properties": {
                "automountServiceAccountToken": {
                    "type": "boolean"
                },
                "cache": {
                    "type": "object",
                    "properties": {
                        "moduleCacheMaxIdle": {
                            "type": "string"
                        },
                        "moduleCacheMaxTotal": {
                            "type": "string"
                        },
                        "moduleCacheMinIdle": {
                            "type": "string"
                        },
                        "moduleCacheSchedule": {
                            "type": "string"
                        },
                        "moduleCacheTimeout": {
                            "type": "string"
                        }
                    }
                },
                "containerSecurityContext": {
                    "type": "object"
                },
                "defaultDatabase": {
                    "type": "boolean"
                },
                "defaultRedis": {
                    "type": "boolean"
                },
                "enabled": {
                    "type": "boolean"
                },
                "existingSecret": {
                    "type": "boolean"
                },
                "image": {
                    "type": "string"
                },
                "imagePullSecrets": {
                    "type": "array"
                },
                "initContainers": {
                    "type": "array"
                },
                "livenessProbe": {
                    "type": "object",
                    "properties": {
                        "periodSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "loadSampleData": {
                    "type": "boolean"
                },
                "otel": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "metrics": {
                            "type": "object",
                            "properties": {
                                "host": {
                                    "type": "string"
                                },
                                "port": {
                                    "type": "string"
                                }
                            }
                        },
                        "traces": {
                            "type": "object",
                            "properties": {
                                "endpoint": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podLabels": {
                    "type": "object"
                },
                "properties": {
                    "type": "object",
                    "properties": {
                        "databaseHostname": {
                            "type": "string"
                        },
                        "databaseName": {
                            "type": "string"
                        },
                        "databasePassword": {
                            "type": "string"
                        },
                        "databasePort": {
                            "type": "string"
                        },
                        "databaseSchema": {
                            "type": "string"
                        },
                        "databaseSslMode": {
                            "type": "string"
                        },
                        "databaseType": {
                            "type": "string"
                        },
                        "databaseUser": {
                            "type": "string"
                        },
                        "executorUrl": {
                            "type": "string"
                        },
                        "redisHostname": {
                            "type": "string"
                        },
                        "redisPassword": {
                            "type": "string"
                        },
                        "redisPort": {
                            "type": "string"
                        }
                    }
                },
                "rbac": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        },
                        "roleBindingName": {
                            "type": "string"
                        },
                        "roleName": {
                            "type": "string"
                        }
                    }
                },
                "readinessProbe": {
                    "type": "object",
                    "properties": {
                        "periodSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "replicaCount": {
                    "type": "string"
                },
                "resources": {
                    "type": "object"
                },
                "revisionHistoryLimit": {
                    "type": "integer"
                },
                "secrets": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "securityContext": {
                    "type": "object"
                },
                "serviceAccountName": {
                    "type": "string"
                },
                "serviceType": {
                    "type": "string"
                },
                "startupProbe": {
                    "type": "object",
                    "properties": {
                        "failureThreshold": {
                            "type": "integer"
                        },
                        "periodSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "terraformReleasesUrl": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "dex": {
            "type": "object",
            "properties": {
                "config": {
                    "type": "object",
                    "properties": {
                        "connectors": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "config": {
                                        "type": "object",
                                        "properties": {
                                            "bindDN": {
                                                "type": "string"
                                            },
                                            "bindPW": {
                                                "type": "string"
                                            },
                                            "groupSearch": {
                                                "type": "object",
                                                "properties": {
                                                    "baseDN": {
                                                        "type": "string"
                                                    },
                                                    "filter": {
                                                        "type": "string"
                                                    },
                                                    "nameAttr": {
                                                        "type": "string"
                                                    },
                                                    "userMatchers": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object",
                                                            "properties": {
                                                                "groupAttr": {
                                                                    "type": "string"
                                                                },
                                                                "userAttr": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            "host": {
                                                "type": "string"
                                            },
                                            "insecureNoSSL": {
                                                "type": "boolean"
                                            },
                                            "userSearch": {
                                                "type": "object",
                                                "properties": {
                                                    "baseDN": {
                                                        "type": "string"
                                                    },
                                                    "emailAttr": {
                                                        "type": "string"
                                                    },
                                                    "filter": {
                                                        "type": "string"
                                                    },
                                                    "idAttr": {
                                                        "type": "string"
                                                    },
                                                    "nameAttr": {
                                                        "type": "string"
                                                    },
                                                    "username": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "usernamePrompt": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "id": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "issuer": {
                            "type": "string"
                        },
                        "oauth2": {
                            "type": "object",
                            "properties": {
                                "responseTypes": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "staticClients": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "public": {
                                        "type": "boolean"
                                    },
                                    "redirectURIs": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        },
                        "storage": {
                            "type": "object",
                            "properties": {
                                "type": {
                                    "type": "string"
                                }
                            }
                        },
                        "web": {
                            "type": "object",
                            "properties": {
                                "allowedOrigins": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                "http": {
                                    "type": "string"
                                },
                                "skipApprovalScreen": {
                                    "type": "boolean"
                                }
                            }
                        }
                    }
                },
                "enabled": {
                    "type": "boolean"
                },
                "existingSecret": {
                    "type": "boolean"
                },
                "revisionHistoryLimit": {
                    "type": "integer"
                },
                "volumeMount": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "mountPath": {
                                "type": "string"
                            },
                            "name": {
                                "type": "string"
                            },
                            "readOnly": {
                                "type": "boolean"
                            }
                        }
                    }
                },
                "volumes": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "secret": {
                                "type": "object",
                                "properties": {
                                    "items": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "path": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    },
                                    "secretName": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "enableIPv6": {
            "type": "boolean"
        },
        "executor": {
            "type": "object",
            "properties": {
                "apiServiceUrl": {
                    "type": "string"
                },
                "containerSecurityContext": {
                    "type": "object"
                },
                "enabled": {
                    "type": "boolean"
                },
                "existingSecret": {
                    "type": "boolean"
                },
                "image": {
                    "type": "string"
                },
                "imagePullSecrets": {
                    "type": "array"
                },
                "initContainers": {
                    "type": "array"
                },
                "livenessProbe": {
                    "type": "object",
                    "properties": {
                        "periodSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "otel": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "metrics": {
                            "type": "object",
                            "properties": {
                                "host": {
                                    "type": "string"
                                },
                                "port": {
                                    "type": "string"
                                }
                            }
                        },
                        "traces": {
                            "type": "object",
                            "properties": {
                                "endpoint": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podLabels": {
                    "type": "object"
                },
                "properties": {
                    "type": "object",
                    "properties": {
                        "toolsBranch": {
                            "type": "string"
                        },
                        "toolsRepository": {
                            "type": "string"
                        }
                    }
                },
                "readinessProbe": {
                    "type": "object",
                    "properties": {
                        "periodSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "replicaCount": {
                    "type": "string"
                },
                "resources": {
                    "type": "object"
                },
                "revisionHistoryLimit": {
                    "type": "integer"
                },
                "secrets": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "securityContext": {
                    "type": "object"
                },
                "serviceAccountName": {
                    "type": "string"
                },
                "serviceType": {
                    "type": "string"
                },
                "startupProbe": {
                    "type": "object",
                    "properties": {
                        "failureThreshold": {
                            "type": "integer"
                        },
                        "periodSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "global": {
            "type": "object",
            "properties": {
                "imagePullSecrets": {
                    "type": "array"
                }
            }
        },
        "ingress": {
            "type": "object",
            "properties": {
                "api": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "nginx.ingress.kubernetes.io/proxy-set-headers": {
                                    "type": "string"
                                },
                                "nginx.ingress.kubernetes.io/use-regex": {
                                    "type": "string"
                                }
                            }
                        },
                        "domain": {
                            "type": "string"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "ingressClassName": {
                            "type": "string"
                        },
                        "path": {
                            "type": "string"
                        },
                        "pathType": {
                            "type": "string"
                        },
                        "tlsSecretName": {
                            "type": "string"
                        },
                        "useTls": {
                            "type": "boolean"
                        }
                    }
                },
                "aws": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "alb.ingress.kubernetes.io/listen-ports": {
                                    "type": "string"
                                },
                                "alb.ingress.kubernetes.io/scheme": {
                                    "type": "string"
                                },
                                "alb.ingress.kubernetes.io/ssl-redirect": {
                                    "type": "string"
                                },
                                "alb.ingress.kubernetes.io/target-type": {
                                    "type": "string"
                                },
                                "kubernetes.io/ingress.class": {
                                    "type": "string"
                                }
                            }
                        },
                        "certificateArn": {
                            "type": "string"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "securityGroups": {
                            "type": "array"
                        },
                        "subnets": {
                            "type": "array"
                        },
                        "targetGroupBinding": {
                            "type": "object",
                            "properties": {
                                "apiTargetGroupARN": {
                                    "type": "string"
                                },
                                "create": {
                                    "type": "boolean"
                                },
                                "dexTargetGroupARN": {
                                    "type": "string"
                                },
                                "registryTargetGroupARN": {
                                    "type": "string"
                                },
                                "uiTargetGroupARN": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "controller": {
                    "type": "string"
                },
                "dex": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "nginx.ingress.kubernetes.io/proxy-set-headers": {
                                    "type": "string"
                                },
                                "nginx.ingress.kubernetes.io/use-regex": {
                                    "type": "string"
                                }
                            }
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "path": {
                            "type": "string"
                        },
                        "pathType": {
                            "type": "string"
                        }
                    }
                },
                "executor": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "nginx.ingress.kubernetes.io/use-regex": {
                                    "type": "string"
                                }
                            }
                        },
                        "domain": {
                            "type": "string"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "ingressClassName": {
                            "type": "string"
                        },
                        "path": {
                            "type": "string"
                        },
                        "pathType": {
                            "type": "string"
                        },
                        "tlsSecretName": {
                            "type": "string"
                        }
                    }
                },
                "gke": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "kubernetes.io/ingress.class": {
                                    "type": "string"
                                }
                            }
                        },
                        "apiStaticIPName": {
                            "type": "string"
                        },
                        "backendConfig": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                },
                                "apiSecurityPolicy": {
                                    "type": "string"
                                },
                                "executorSecurityPolicy": {
                                    "type": "string"
                                },
                                "registrySecurityPolicy": {
                                    "type": "string"
                                },
                                "uiSecurityPolicy": {
                                    "type": "string"
                                },
                                "timeout": {
                                    "type": "integer"
                                }
                            }
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "executorStaticIPName": {
                            "type": "string"
                        },
                        "externalDNS": {
                            "type": "object",
                            "properties": {
                                "perIngressProxy": {
                                    "type": "object",
                                    "properties": {
                                        "api": {
                                            "type": "boolean"
                                        },
                                        "dex": {
                                            "type": "boolean"
                                        },
                                        "executor": {
                                            "type": "boolean"
                                        },
                                        "registry": {
                                            "type": "boolean"
                                        },
                                        "ui": {
                                            "type": "boolean"
                                        }
                                    }
                                }
                            }
                        },
                        "frontendConfig": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                },
                                "redirectToHttps": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "managedCertificate": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "registryStaticIPName": {
                            "type": "string"
                        },
                        "uiStaticIPName": {
                            "type": "string"
                        }
                    }
                },
                "includeTlsHosts": {
                    "type": "boolean"
                },
                "registry": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "nginx.ingress.kubernetes.io/proxy-set-headers": {
                                    "type": "string"
                                },
                                "nginx.ingress.kubernetes.io/use-regex": {
                                    "type": "string"
                                }
                            }
                        },
                        "domain": {
                            "type": "string"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "ingressClassName": {
                            "type": "string"
                        },
                        "path": {
                            "type": "string"
                        },
                        "pathType": {
                            "type": "string"
                        },
                        "tlsSecretName": {
                            "type": "string"
                        },
                        "useTls": {
                            "type": "boolean"
                        }
                    }
                },
                "ui": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "type": "object",
                            "properties": {
                                "nginx.ingress.kubernetes.io/use-regex": {
                                    "type": "string"
                                }
                            }
                        },
                        "domain": {
                            "type": "string"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "ingressClassName": {
                            "type": "string"
                        },
                        "path": {
                            "type": "string"
                        },
                        "pathType": {
                            "type": "string"
                        },
                        "tlsSecretName": {
                            "type": "string"
                        },
                        "useTls": {
                            "type": "boolean"
                        }
                    }
                },
                "useTls": {
                    "type": "boolean"
                }
            }
        },
        "minio": {
            "type": "object",
            "properties": {
                "auth": {
                    "type": "object",
                    "properties": {
                        "rootPassword": {
                            "type": "string"
                        },
                        "rootUser": {
                            "type": "string"
                        }
                    }
                },
                "defaultBuckets": {
                    "type": "string"
                }
            }
        },
        "name": {
            "type": "string"
        },
        "openldap": {
            "type": "object",
            "properties": {
                "adminPass": {
                    "type": "string"
                },
                "adminUser": {
                    "type": "string"
                },
                "baseRoot": {
                    "type": "string"
                },
                "containerSecurityContext": {
                    "type": "object"
                },
                "image": {
                    "type": "string"
                },
                "imagePullSecrets": {
                    "type": "array"
                },
                "initContainers": {
                    "type": "array"
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podLabels": {
                    "type": "object"
                },
                "revisionHistoryLimit": {
                    "type": "integer"
                },
                "securityContext": {
                    "type": "object"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "postgresql": {
            "type": "object",
            "properties": {
                "auth": {
                    "type": "object",
                    "properties": {
                        "database": {
                            "type": "string"
                        },
                        "password": {
                            "type": "string"
                        },
                        "username": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "redis": {
            "type": "object",
            "properties": {
                "architecture": {
                    "type": "string"
                },
                "auth": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "password": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "registry": {
            "type": "object",
            "properties": {
                "containerSecurityContext": {
                    "type": "object"
                },
                "enabled": {
                    "type": "boolean"
                },
                "existingSecret": {
                    "type": "boolean"
                },
                "image": {
                    "type": "string"
                },
                "imagePullSecrets": {
                    "type": "array"
                },
                "initContainers": {
                    "type": "array"
                },
                "otel": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "metrics": {
                            "type": "object",
                            "properties": {
                                "host": {
                                    "type": "string"
                                },
                                "port": {
                                    "type": "string"
                                }
                            }
                        },
                        "traces": {
                            "type": "object",
                            "properties": {
                                "endpoint": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podLabels": {
                    "type": "object"
                },
                "replicaCount": {
                    "type": "string"
                },
                "resources": {
                    "type": "object"
                },
                "revisionHistoryLimit": {
                    "type": "integer"
                },
                "secrets": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "securityContext": {
                    "type": "object"
                },
                "serviceAccountName": {
                    "type": "string"
                },
                "serviceType": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "security": {
            "type": "object",
            "properties": {
                "adminGroup": {
                    "type": "string"
                },
                "dexClientId": {
                    "type": "string"
                },
                "dexClientScope": {
                    "type": "string"
                },
                "dexIssuerUri": {
                    "type": "string"
                },
                "existingSecret": {
                    "type": "boolean"
                },
                "internalSecret": {
                    "type": "string"
                },
                "ldapConfigSecretName": {
                    "type": "string"
                },
                "patSecret": {
                    "type": "string"
                },
                "useOpenLDAP": {
                    "type": "boolean"
                }
            }
        },
        "storage": {
            "type": "object",
            "properties": {
                "aws": {
                    "type": "object",
                    "properties": {
                        "accessKey": {
                            "type": "string"
                        },
                        "bucketName": {
                            "type": "string"
                        },
                        "region": {
                            "type": "string"
                        },
                        "secretKey": {
                            "type": "string"
                        }
                    }
                },
                "azure": {
                    "type": "object",
                    "properties": {
                        "storageAccountAccessKey": {
                            "type": "string"
                        },
                        "storageAccountName": {
                            "type": "string"
                        },
                        "storageAccountResourceGroup": {
                            "type": "string"
                        }
                    }
                },
                "default": {
                    "type": "object",
                    "properties": {
                        "endpoint": {
                            "type": "string"
                        },
                        "region": {
                            "type": "string"
                        }
                    }
                },
                "defaultStorage": {
                    "type": "boolean"
                },
                "gcp": {
                    "type": "object",
                    "properties": {
                        "bucketName": {
                            "type": "string"
                        },
                        "credentials": {
                            "type": "string"
                        },
                        "projectId": {
                            "type": "string"
                        }
                    }
                },
                "minio": {
                    "type": "object",
                    "properties": {
                        "accessKey": {
                            "type": "string"
                        },
                        "bucketName": {
                            "type": "string"
                        },
                        "endpoint": {
                            "type": "string"
                        },
                        "secretKey": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "ui": {
            "type": "object",
            "properties": {
                "containerSecurityContext": {
                    "type": "object"
                },
                "enabled": {
                    "type": "boolean"
                },
                "existingSecret": {
                    "type": "boolean"
                },
                "image": {
                    "type": "string"
                },
                "imagePullSecrets": {
                    "type": "array"
                },
                "initContainers": {
                    "type": "array"
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podLabels": {
                    "type": "object"
                },
                "replicaCount": {
                    "type": "string"
                },
                "resources": {
                    "type": "object"
                },
                "revisionHistoryLimit": {
                    "type": "integer"
                },
                "securityContext": {
                    "type": "object"
                },
                "serviceAccountName": {
                    "type": "string"
                },
                "serviceType": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        }
    }
}
